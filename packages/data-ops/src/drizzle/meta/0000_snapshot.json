{
  "id": "2f62581d-8af1-4b00-9e1b-ce91d1039ad6",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.auth_account": {
      "name": "auth_account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "auth_account_userId_idx": {
          "name": "auth_account_userId_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auth_account_user_id_auth_user_id_fk": {
          "name": "auth_account_user_id_auth_user_id_fk",
          "tableFrom": "auth_account",
          "tableTo": "auth_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auth_session": {
      "name": "auth_session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "auth_session_userId_idx": {
          "name": "auth_session_userId_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auth_session_user_id_auth_user_id_fk": {
          "name": "auth_session_user_id_auth_user_id_fk",
          "tableFrom": "auth_session",
          "tableTo": "auth_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "auth_session_token_unique": {
          "name": "auth_session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auth_user": {
      "name": "auth_user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "auth_user_email_unique": {
          "name": "auth_user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auth_verification": {
      "name": "auth_verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "auth_verification_identifier_idx": {
          "name": "auth_verification_identifier_idx",
          "columns": [
            {
              "expression": "identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.activity_logs": {
      "name": "activity_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_activity_user_time": {
          "name": "idx_activity_user_time",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_school_time": {
          "name": "idx_activity_school_time",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_action_time": {
          "name": "idx_activity_action_time",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_resource": {
          "name": "idx_activity_resource",
          "columns": [
            {
              "expression": "resource",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_logs_user_id_auth_user_id_fk": {
          "name": "activity_logs_user_id_auth_user_id_fk",
          "tableFrom": "activity_logs",
          "tableTo": "auth_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_logs_school_id_schools_id_fk": {
          "name": "activity_logs_school_id_schools_id_fk",
          "tableFrom": "activity_logs",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_metrics": {
      "name": "api_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status_code": {
          "name": "status_code",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_api_endpoint_time": {
          "name": "idx_api_endpoint_time",
          "columns": [
            {
              "expression": "endpoint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_api_status_time": {
          "name": "idx_api_status_time",
          "columns": [
            {
              "expression": "status_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_api_user_time": {
          "name": "idx_api_user_time",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_metrics_user_id_auth_user_id_fk": {
          "name": "api_metrics_user_id_auth_user_id_fk",
          "tableFrom": "api_metrics",
          "tableTo": "auth_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "api_metrics_school_id_schools_id_fk": {
          "name": "api_metrics_school_id_schools_id_fk",
          "tableFrom": "api_metrics",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.coefficient_templates": {
      "name": "coefficient_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_template_id": {
          "name": "school_year_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grade_id": {
          "name": "grade_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "series_id": {
          "name": "series_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_coeff_lookup": {
          "name": "idx_coeff_lookup",
          "columns": [
            {
              "expression": "school_year_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "grade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "series_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_coeff_year": {
          "name": "idx_coeff_year",
          "columns": [
            {
              "expression": "school_year_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_coeff_grade": {
          "name": "idx_coeff_grade",
          "columns": [
            {
              "expression": "grade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_coeff_subject": {
          "name": "idx_coeff_subject",
          "columns": [
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "coefficient_templates_school_year_template_id_school_year_templates_id_fk": {
          "name": "coefficient_templates_school_year_template_id_school_year_templates_id_fk",
          "tableFrom": "coefficient_templates",
          "tableTo": "school_year_templates",
          "columnsFrom": [
            "school_year_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "coefficient_templates_subject_id_subjects_id_fk": {
          "name": "coefficient_templates_subject_id_subjects_id_fk",
          "tableFrom": "coefficient_templates",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "coefficient_templates_grade_id_grades_id_fk": {
          "name": "coefficient_templates_grade_id_grades_id_fk",
          "tableFrom": "coefficient_templates",
          "tableTo": "grades",
          "columnsFrom": [
            "grade_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "coefficient_templates_series_id_series_id_fk": {
          "name": "coefficient_templates_series_id_series_id_fk",
          "tableFrom": "coefficient_templates",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.education_levels": {
      "name": "education_levels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallint",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "education_levels_name_unique": {
          "name": "education_levels_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fee_type_templates": {
      "name": "fee_type_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_en": {
          "name": "name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_amount": {
          "name": "default_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_mandatory": {
          "name": "is_mandatory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "display_order": {
          "name": "display_order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fee_template_code": {
          "name": "idx_fee_template_code",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_template_category": {
          "name": "idx_fee_template_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_template_active": {
          "name": "idx_fee_template_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grades": {
      "name": "grades",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "track_id": {
          "name": "track_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "grades_track_id_tracks_id_fk": {
          "name": "grades_track_id_tracks_id_fk",
          "tableFrom": "grades",
          "tableTo": "tracks",
          "columnsFrom": [
            "track_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.program_template_chapters": {
      "name": "program_template_chapters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "objectives": {
          "name": "objectives",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "duration_hours": {
          "name": "duration_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "program_template_id": {
          "name": "program_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "program_template_chapters_program_template_id_program_templates_id_fk": {
          "name": "program_template_chapters_program_template_id_program_templates_id_fk",
          "tableFrom": "program_template_chapters",
          "tableTo": "program_templates",
          "columnsFrom": [
            "program_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.program_template_versions": {
      "name": "program_template_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "program_template_id": {
          "name": "program_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_data": {
          "name": "snapshot_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "program_template_versions_program_template_id_program_templates_id_fk": {
          "name": "program_template_versions_program_template_id_program_templates_id_fk",
          "tableFrom": "program_template_versions",
          "tableTo": "program_templates",
          "columnsFrom": [
            "program_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.program_templates": {
      "name": "program_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_template_id": {
          "name": "school_year_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grade_id": {
          "name": "grade_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "program_templates_school_year_template_id_school_year_templates_id_fk": {
          "name": "program_templates_school_year_template_id_school_year_templates_id_fk",
          "tableFrom": "program_templates",
          "tableTo": "school_year_templates",
          "columnsFrom": [
            "school_year_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_templates_subject_id_subjects_id_fk": {
          "name": "program_templates_subject_id_subjects_id_fk",
          "tableFrom": "program_templates",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_templates_grade_id_grades_id_fk": {
          "name": "program_templates_grade_id_grades_id_fk",
          "tableFrom": "program_templates",
          "tableTo": "grades",
          "columnsFrom": [
            "grade_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.school_year_templates": {
      "name": "school_year_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.schools": {
      "name": "schools",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "schools_code_unique": {
          "name": "schools_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.series": {
      "name": "series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "track_id": {
          "name": "track_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "series_track_id_tracks_id_fk": {
          "name": "series_track_id_tracks_id_fk",
          "tableFrom": "series",
          "tableTo": "tracks",
          "columnsFrom": [
            "track_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "series_code_unique": {
          "name": "series_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subjects": {
      "name": "subjects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "short_name": {
          "name": "short_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Autre'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.term_templates": {
      "name": "term_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_template_id": {
          "name": "school_year_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "term_templates_school_year_template_id_school_year_templates_id_fk": {
          "name": "term_templates_school_year_template_id_school_year_templates_id_fk",
          "tableFrom": "term_templates",
          "tableTo": "school_year_templates",
          "columnsFrom": [
            "school_year_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tracks": {
      "name": "tracks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "education_level_id": {
          "name": "education_level_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tracks_education_level_id_education_levels_id_fk": {
          "name": "tracks_education_level_id_education_levels_id_fk",
          "tableFrom": "tracks",
          "tableTo": "education_levels",
          "columnsFrom": [
            "education_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tracks_code_unique": {
          "name": "tracks_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_en": {
          "name": "name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_header": {
          "name": "is_header",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "balance": {
          "name": "balance",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "normal_balance": {
          "name": "normal_balance",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_accounts_school": {
          "name": "idx_accounts_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_parent": {
          "name": "idx_accounts_parent",
          "columns": [
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_type": {
          "name": "idx_accounts_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_code": {
          "name": "idx_accounts_code",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_hierarchy": {
          "name": "idx_accounts_hierarchy",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "accounts_school_id_schools_id_fk": {
          "name": "accounts_school_id_schools_id_fk",
          "tableFrom": "accounts",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_account_code": {
          "name": "unique_school_account_code",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.attendance_alerts": {
      "name": "attendance_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notified_users": {
          "name": "notified_users",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_alerts_school": {
          "name": "idx_alerts_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_status": {
          "name": "idx_alerts_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_type": {
          "name": "idx_alerts_type",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_teacher": {
          "name": "idx_alerts_teacher",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_student": {
          "name": "idx_alerts_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_active": {
          "name": "idx_alerts_active",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "attendance_alerts_school_id_schools_id_fk": {
          "name": "attendance_alerts_school_id_schools_id_fk",
          "tableFrom": "attendance_alerts",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attendance_alerts_teacher_id_teachers_id_fk": {
          "name": "attendance_alerts_teacher_id_teachers_id_fk",
          "tableFrom": "attendance_alerts",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attendance_alerts_student_id_students_id_fk": {
          "name": "attendance_alerts_student_id_students_id_fk",
          "tableFrom": "attendance_alerts",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attendance_alerts_class_id_classes_id_fk": {
          "name": "attendance_alerts_class_id_classes_id_fk",
          "tableFrom": "attendance_alerts",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attendance_alerts_acknowledged_by_users_id_fk": {
          "name": "attendance_alerts_acknowledged_by_users_id_fk",
          "tableFrom": "attendance_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.attendance_settings": {
      "name": "attendance_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_expected_arrival": {
          "name": "teacher_expected_arrival",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'07:30'"
        },
        "teacher_late_threshold_minutes": {
          "name": "teacher_late_threshold_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 15
        },
        "teacher_lateness_alert_count": {
          "name": "teacher_lateness_alert_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "student_late_threshold_minutes": {
          "name": "student_late_threshold_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "chronic_absence_threshold_percent": {
          "name": "chronic_absence_threshold_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'10.00'"
        },
        "notify_parent_on_absence": {
          "name": "notify_parent_on_absence",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_parent_on_late": {
          "name": "notify_parent_on_late",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "working_days": {
          "name": "working_days",
          "type": "smallint[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{1,2,3,4,5}'"
        },
        "notification_methods": {
          "name": "notification_methods",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"email\"}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_attendance_settings_school": {
          "name": "idx_attendance_settings_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "attendance_settings_school_id_schools_id_fk": {
          "name": "attendance_settings_school_id_schools_id_fk",
          "tableFrom": "attendance_settings",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_attendance_settings_school": {
          "name": "unique_attendance_settings_school",
          "nullsNotDistinct": false,
          "columns": [
            "school_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_id": {
          "name": "record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_school_time": {
          "name": "idx_audit_school_time",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_user": {
          "name": "idx_audit_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_table_record": {
          "name": "idx_audit_table_record",
          "columns": [
            {
              "expression": "table_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "record_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_action": {
          "name": "idx_audit_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_school_id_schools_id_fk": {
          "name": "audit_logs_school_id_schools_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chapter_completions": {
      "name": "chapter_completions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_id": {
          "name": "chapter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_session_id": {
          "name": "class_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_chapter_completions_class": {
          "name": "idx_chapter_completions_class",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chapter_completions_chapter": {
          "name": "idx_chapter_completions_chapter",
          "columns": [
            {
              "expression": "chapter_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chapter_completions_class_id_classes_id_fk": {
          "name": "chapter_completions_class_id_classes_id_fk",
          "tableFrom": "chapter_completions",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chapter_completions_subject_id_subjects_id_fk": {
          "name": "chapter_completions_subject_id_subjects_id_fk",
          "tableFrom": "chapter_completions",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chapter_completions_chapter_id_program_template_chapters_id_fk": {
          "name": "chapter_completions_chapter_id_program_template_chapters_id_fk",
          "tableFrom": "chapter_completions",
          "tableTo": "program_template_chapters",
          "columnsFrom": [
            "chapter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chapter_completions_class_session_id_class_sessions_id_fk": {
          "name": "chapter_completions_class_session_id_class_sessions_id_fk",
          "tableFrom": "chapter_completions",
          "tableTo": "class_sessions",
          "columnsFrom": [
            "class_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "chapter_completions_teacher_id_teachers_id_fk": {
          "name": "chapter_completions_teacher_id_teachers_id_fk",
          "tableFrom": "chapter_completions",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_class_chapter": {
          "name": "unique_class_chapter",
          "nullsNotDistinct": false,
          "columns": [
            "class_id",
            "chapter_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.class_sessions": {
      "name": "class_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_id": {
          "name": "chapter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timetable_session_id": {
          "name": "timetable_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "topic": {
          "name": "topic",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "objectives": {
          "name": "objectives",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homework": {
          "name": "homework",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "students_present": {
          "name": "students_present",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "students_absent": {
          "name": "students_absent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_class_sessions_class_subject": {
          "name": "idx_class_sessions_class_subject",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_sessions_chapter": {
          "name": "idx_class_sessions_chapter",
          "columns": [
            {
              "expression": "chapter_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_sessions_date": {
          "name": "idx_class_sessions_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_sessions_teacher": {
          "name": "idx_class_sessions_teacher",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_sessions_status": {
          "name": "idx_class_sessions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "class_sessions_class_id_classes_id_fk": {
          "name": "class_sessions_class_id_classes_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_sessions_subject_id_subjects_id_fk": {
          "name": "class_sessions_subject_id_subjects_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_sessions_teacher_id_teachers_id_fk": {
          "name": "class_sessions_teacher_id_teachers_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_sessions_chapter_id_program_template_chapters_id_fk": {
          "name": "class_sessions_chapter_id_program_template_chapters_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "program_template_chapters",
          "columnsFrom": [
            "chapter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "class_sessions_timetable_session_id_timetable_sessions_id_fk": {
          "name": "class_sessions_timetable_session_id_timetable_sessions_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "timetable_sessions",
          "columnsFrom": [
            "timetable_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.class_subjects": {
      "name": "class_subjects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coefficient": {
          "name": "coefficient",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "hours_per_week": {
          "name": "hours_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_class_subjects_teacher": {
          "name": "idx_class_subjects_teacher",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_subjects_class_subject": {
          "name": "idx_class_subjects_class_subject",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_class_subjects_teacher_subject": {
          "name": "idx_class_subjects_teacher_subject",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "class_subjects_class_id_classes_id_fk": {
          "name": "class_subjects_class_id_classes_id_fk",
          "tableFrom": "class_subjects",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_subjects_subject_id_subjects_id_fk": {
          "name": "class_subjects_subject_id_subjects_id_fk",
          "tableFrom": "class_subjects",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "class_subjects_teacher_id_teachers_id_fk": {
          "name": "class_subjects_teacher_id_teachers_id_fk",
          "tableFrom": "class_subjects",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_class_subject": {
          "name": "unique_class_subject",
          "nullsNotDistinct": false,
          "columns": [
            "class_id",
            "subject_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.classes": {
      "name": "classes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grade_id": {
          "name": "grade_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "series_id": {
          "name": "series_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "section": {
          "name": "section",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "classroom_id": {
          "name": "classroom_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homeroom_teacher_id": {
          "name": "homeroom_teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_students": {
          "name": "max_students",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 40
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_classes_school": {
          "name": "idx_classes_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_school_year": {
          "name": "idx_classes_school_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_homeroom": {
          "name": "idx_classes_homeroom",
          "columns": [
            {
              "expression": "homeroom_teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_classroom": {
          "name": "idx_classes_classroom",
          "columns": [
            {
              "expression": "classroom_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_school_year_composite": {
          "name": "idx_classes_school_year_composite",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classes_grade_series": {
          "name": "idx_classes_grade_series",
          "columns": [
            {
              "expression": "grade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "series_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "classes_school_id_schools_id_fk": {
          "name": "classes_school_id_schools_id_fk",
          "tableFrom": "classes",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "classes_school_year_id_school_years_id_fk": {
          "name": "classes_school_year_id_school_years_id_fk",
          "tableFrom": "classes",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "classes_grade_id_grades_id_fk": {
          "name": "classes_grade_id_grades_id_fk",
          "tableFrom": "classes",
          "tableTo": "grades",
          "columnsFrom": [
            "grade_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "classes_series_id_series_id_fk": {
          "name": "classes_series_id_series_id_fk",
          "tableFrom": "classes",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "classes_classroom_id_classrooms_id_fk": {
          "name": "classes_classroom_id_classrooms_id_fk",
          "tableFrom": "classes",
          "tableTo": "classrooms",
          "columnsFrom": [
            "classroom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "classes_homeroom_teacher_id_teachers_id_fk": {
          "name": "classes_homeroom_teacher_id_teachers_id_fk",
          "tableFrom": "classes",
          "tableTo": "teachers",
          "columnsFrom": [
            "homeroom_teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.classrooms": {
      "name": "classrooms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'regular'"
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "floor": {
          "name": "floor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "building": {
          "name": "building",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "equipment": {
          "name": "equipment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_classrooms_school": {
          "name": "idx_classrooms_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classrooms_type": {
          "name": "idx_classrooms_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classrooms_status": {
          "name": "idx_classrooms_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classrooms_school_status_type": {
          "name": "idx_classrooms_school_status_type",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "classrooms_school_id_schools_id_fk": {
          "name": "classrooms_school_id_schools_id_fk",
          "tableFrom": "classrooms",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_code": {
          "name": "unique_school_code",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conduct_follow_ups": {
      "name": "conduct_follow_ups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "conduct_record_id": {
          "name": "conduct_record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_follow_ups_conduct": {
          "name": "idx_follow_ups_conduct",
          "columns": [
            {
              "expression": "conduct_record_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_follow_ups_date": {
          "name": "idx_follow_ups_date",
          "columns": [
            {
              "expression": "follow_up_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conduct_follow_ups_conduct_record_id_conduct_records_id_fk": {
          "name": "conduct_follow_ups_conduct_record_id_conduct_records_id_fk",
          "tableFrom": "conduct_follow_ups",
          "tableTo": "conduct_records",
          "columnsFrom": [
            "conduct_record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conduct_follow_ups_created_by_users_id_fk": {
          "name": "conduct_follow_ups_created_by_users_id_fk",
          "tableFrom": "conduct_follow_ups",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conduct_records": {
      "name": "conduct_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "incident_date": {
          "name": "incident_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "incident_time": {
          "name": "incident_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "witnesses": {
          "name": "witnesses",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "sanction_type": {
          "name": "sanction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sanction_start_date": {
          "name": "sanction_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "sanction_end_date": {
          "name": "sanction_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "sanction_details": {
          "name": "sanction_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reward_type": {
          "name": "reward_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "points_awarded": {
          "name": "points_awarded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_notified": {
          "name": "parent_notified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "parent_notified_at": {
          "name": "parent_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "parent_acknowledged": {
          "name": "parent_acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "parent_acknowledged_at": {
          "name": "parent_acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "parent_response": {
          "name": "parent_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "recorded_by": {
          "name": "recorded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_conduct_student": {
          "name": "idx_conduct_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conduct_school_year": {
          "name": "idx_conduct_school_year",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conduct_type": {
          "name": "idx_conduct_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conduct_category": {
          "name": "idx_conduct_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conduct_status": {
          "name": "idx_conduct_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conduct_severity": {
          "name": "idx_conduct_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conduct_date": {
          "name": "idx_conduct_date",
          "columns": [
            {
              "expression": "incident_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conduct_student_year": {
          "name": "idx_conduct_student_year",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conduct_records_student_id_students_id_fk": {
          "name": "conduct_records_student_id_students_id_fk",
          "tableFrom": "conduct_records",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conduct_records_school_id_schools_id_fk": {
          "name": "conduct_records_school_id_schools_id_fk",
          "tableFrom": "conduct_records",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conduct_records_class_id_classes_id_fk": {
          "name": "conduct_records_class_id_classes_id_fk",
          "tableFrom": "conduct_records",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "conduct_records_school_year_id_school_years_id_fk": {
          "name": "conduct_records_school_year_id_school_years_id_fk",
          "tableFrom": "conduct_records",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conduct_records_assigned_to_users_id_fk": {
          "name": "conduct_records_assigned_to_users_id_fk",
          "tableFrom": "conduct_records",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "conduct_records_recorded_by_users_id_fk": {
          "name": "conduct_records_recorded_by_users_id_fk",
          "tableFrom": "conduct_records",
          "tableTo": "users",
          "columnsFrom": [
            "recorded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "conduct_records_resolved_by_users_id_fk": {
          "name": "conduct_records_resolved_by_users_id_fk",
          "tableFrom": "conduct_records",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.curriculum_progress": {
      "name": "curriculum_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_template_id": {
          "name": "program_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "term_id": {
          "name": "term_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_chapters": {
          "name": "total_chapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "completed_chapters": {
          "name": "completed_chapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "progress_percentage": {
          "name": "progress_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "expected_percentage": {
          "name": "expected_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "variance": {
          "name": "variance",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'on_track'"
        },
        "last_chapter_completed_at": {
          "name": "last_chapter_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_progress_class": {
          "name": "idx_progress_class",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_progress_status": {
          "name": "idx_progress_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_progress_term": {
          "name": "idx_progress_term",
          "columns": [
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_progress_subject": {
          "name": "idx_progress_subject",
          "columns": [
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "curriculum_progress_class_id_classes_id_fk": {
          "name": "curriculum_progress_class_id_classes_id_fk",
          "tableFrom": "curriculum_progress",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "curriculum_progress_subject_id_subjects_id_fk": {
          "name": "curriculum_progress_subject_id_subjects_id_fk",
          "tableFrom": "curriculum_progress",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "curriculum_progress_program_template_id_program_templates_id_fk": {
          "name": "curriculum_progress_program_template_id_program_templates_id_fk",
          "tableFrom": "curriculum_progress",
          "tableTo": "program_templates",
          "columnsFrom": [
            "program_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "curriculum_progress_term_id_terms_id_fk": {
          "name": "curriculum_progress_term_id_terms_id_fk",
          "tableFrom": "curriculum_progress",
          "tableTo": "terms",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_class_subject_term": {
          "name": "unique_class_subject_term",
          "nullsNotDistinct": false,
          "columns": [
            "class_id",
            "subject_id",
            "term_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discounts": {
      "name": "discounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_en": {
          "name": "name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calculation_type": {
          "name": "calculation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "applies_to_fee_types": {
          "name": "applies_to_fee_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "max_discount_amount": {
          "name": "max_discount_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "requires_approval": {
          "name": "requires_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_apply": {
          "name": "auto_apply",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_discounts_school": {
          "name": "idx_discounts_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discounts_type": {
          "name": "idx_discounts_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discounts_status": {
          "name": "idx_discounts_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "discounts_school_id_schools_id_fk": {
          "name": "discounts_school_id_schools_id_fk",
          "tableFrom": "discounts",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_discount_code": {
          "name": "unique_school_discount_code",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enrollments": {
      "name": "enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "enrollment_date": {
          "name": "enrollment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_by": {
          "name": "confirmed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transferred_at": {
          "name": "transferred_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "transferred_to": {
          "name": "transferred_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_reason": {
          "name": "transfer_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_enrollment_id": {
          "name": "previous_enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "roll_number": {
          "name": "roll_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_enrollments_student": {
          "name": "idx_enrollments_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_class": {
          "name": "idx_enrollments_class",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_school_year": {
          "name": "idx_enrollments_school_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_class_year_status": {
          "name": "idx_enrollments_class_year_status",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_student_year": {
          "name": "idx_enrollments_student_year",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_student_year_status": {
          "name": "idx_enrollments_student_year_status",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_status": {
          "name": "idx_enrollments_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_confirmed_by": {
          "name": "idx_enrollments_confirmed_by",
          "columns": [
            {
              "expression": "confirmed_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_roll_number": {
          "name": "idx_enrollments_roll_number",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "roll_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "enrollments_student_id_students_id_fk": {
          "name": "enrollments_student_id_students_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollments_class_id_classes_id_fk": {
          "name": "enrollments_class_id_classes_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollments_school_year_id_school_years_id_fk": {
          "name": "enrollments_school_year_id_school_years_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollments_confirmed_by_users_id_fk": {
          "name": "enrollments_confirmed_by_users_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "confirmed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "enrollments_cancelled_by_users_id_fk": {
          "name": "enrollments_cancelled_by_users_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "cancelled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "enrollments_transferred_to_classes_id_fk": {
          "name": "enrollments_transferred_to_classes_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "classes",
          "columnsFrom": [
            "transferred_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fee_structures": {
      "name": "fee_structures",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fee_type_id": {
          "name": "fee_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grade_id": {
          "name": "grade_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "series_id": {
          "name": "series_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'XOF'"
        },
        "new_student_amount": {
          "name": "new_student_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fee_structures_school_year": {
          "name": "idx_fee_structures_school_year",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_structures_grade": {
          "name": "idx_fee_structures_grade",
          "columns": [
            {
              "expression": "grade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_structures_fee_type": {
          "name": "idx_fee_structures_fee_type",
          "columns": [
            {
              "expression": "fee_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_structures_lookup": {
          "name": "idx_fee_structures_lookup",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "grade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fee_structures_school_id_schools_id_fk": {
          "name": "fee_structures_school_id_schools_id_fk",
          "tableFrom": "fee_structures",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fee_structures_school_year_id_school_years_id_fk": {
          "name": "fee_structures_school_year_id_school_years_id_fk",
          "tableFrom": "fee_structures",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fee_structures_fee_type_id_fee_types_id_fk": {
          "name": "fee_structures_fee_type_id_fee_types_id_fk",
          "tableFrom": "fee_structures",
          "tableTo": "fee_types",
          "columnsFrom": [
            "fee_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fee_structures_grade_id_grades_id_fk": {
          "name": "fee_structures_grade_id_grades_id_fk",
          "tableFrom": "fee_structures",
          "tableTo": "grades",
          "columnsFrom": [
            "grade_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fee_structures_series_id_series_id_fk": {
          "name": "fee_structures_series_id_series_id_fk",
          "tableFrom": "fee_structures",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_fee_structure": {
          "name": "unique_fee_structure",
          "nullsNotDistinct": true,
          "columns": [
            "school_id",
            "school_year_id",
            "fee_type_id",
            "grade_id",
            "series_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fee_types": {
      "name": "fee_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fee_type_template_id": {
          "name": "fee_type_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_en": {
          "name": "name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_mandatory": {
          "name": "is_mandatory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "revenue_account_id": {
          "name": "revenue_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receivable_account_id": {
          "name": "receivable_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fee_types_school": {
          "name": "idx_fee_types_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_types_template": {
          "name": "idx_fee_types_template",
          "columns": [
            {
              "expression": "fee_type_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_types_category": {
          "name": "idx_fee_types_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fee_types_status": {
          "name": "idx_fee_types_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fee_types_school_id_schools_id_fk": {
          "name": "fee_types_school_id_schools_id_fk",
          "tableFrom": "fee_types",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fee_types_fee_type_template_id_fee_type_templates_id_fk": {
          "name": "fee_types_fee_type_template_id_fee_type_templates_id_fk",
          "tableFrom": "fee_types",
          "tableTo": "fee_type_templates",
          "columnsFrom": [
            "fee_type_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fee_types_revenue_account_id_accounts_id_fk": {
          "name": "fee_types_revenue_account_id_accounts_id_fk",
          "tableFrom": "fee_types",
          "tableTo": "accounts",
          "columnsFrom": [
            "revenue_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "fee_types_receivable_account_id_accounts_id_fk": {
          "name": "fee_types_receivable_account_id_accounts_id_fk",
          "tableFrom": "fee_types",
          "tableTo": "accounts",
          "columnsFrom": [
            "receivable_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_fee_code": {
          "name": "unique_school_fee_code",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "code"
          ]
        },
        "unique_school_fee_template": {
          "name": "unique_school_fee_template",
          "nullsNotDistinct": true,
          "columns": [
            "school_id",
            "fee_type_template_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fiscal_years": {
      "name": "fiscal_years",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "closed_by": {
          "name": "closed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fiscal_years_school": {
          "name": "idx_fiscal_years_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fiscal_years_status": {
          "name": "idx_fiscal_years_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fiscal_years_dates": {
          "name": "idx_fiscal_years_dates",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fiscal_years_school_id_schools_id_fk": {
          "name": "fiscal_years_school_id_schools_id_fk",
          "tableFrom": "fiscal_years",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fiscal_years_school_year_id_school_years_id_fk": {
          "name": "fiscal_years_school_year_id_school_years_id_fk",
          "tableFrom": "fiscal_years",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fiscal_years_closed_by_users_id_fk": {
          "name": "fiscal_years_closed_by_users_id_fk",
          "tableFrom": "fiscal_years",
          "tableTo": "users",
          "columnsFrom": [
            "closed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_fiscal_year": {
          "name": "unique_school_fiscal_year",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "school_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grade_validations": {
      "name": "grade_validations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "grade_id": {
          "name": "grade_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "validator_id": {
          "name": "validator_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "previous_value": {
          "name": "previous_value",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_validations_grade": {
          "name": "idx_validations_grade",
          "columns": [
            {
              "expression": "grade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_validations_validator": {
          "name": "idx_validations_validator",
          "columns": [
            {
              "expression": "validator_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "grade_validations_grade_id_student_grades_id_fk": {
          "name": "grade_validations_grade_id_student_grades_id_fk",
          "tableFrom": "grade_validations",
          "tableTo": "student_grades",
          "columnsFrom": [
            "grade_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "grade_validations_validator_id_users_id_fk": {
          "name": "grade_validations_validator_id_users_id_fk",
          "tableFrom": "grade_validations",
          "tableTo": "users",
          "columnsFrom": [
            "validator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.homework": {
      "name": "homework",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_session_id": {
          "name": "class_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "due_time": {
          "name": "due_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_points": {
          "name": "max_points",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "is_graded": {
          "name": "is_graded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_homework_class": {
          "name": "idx_homework_class",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_homework_teacher_status": {
          "name": "idx_homework_teacher_status",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_homework_due_date": {
          "name": "idx_homework_due_date",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_homework_status": {
          "name": "idx_homework_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_homework_class_due": {
          "name": "idx_homework_class_due",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "homework_school_id_schools_id_fk": {
          "name": "homework_school_id_schools_id_fk",
          "tableFrom": "homework",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "homework_class_id_classes_id_fk": {
          "name": "homework_class_id_classes_id_fk",
          "tableFrom": "homework",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "homework_subject_id_subjects_id_fk": {
          "name": "homework_subject_id_subjects_id_fk",
          "tableFrom": "homework",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "homework_teacher_id_teachers_id_fk": {
          "name": "homework_teacher_id_teachers_id_fk",
          "tableFrom": "homework",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "homework_class_session_id_class_sessions_id_fk": {
          "name": "homework_class_session_id_class_sessions_id_fk",
          "tableFrom": "homework",
          "tableTo": "class_sessions",
          "columnsFrom": [
            "class_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.homework_submissions": {
      "name": "homework_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "homework_id": {
          "name": "homework_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "grade": {
          "name": "grade",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "graded_at": {
          "name": "graded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "graded_by": {
          "name": "graded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'submitted'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_submission_homework": {
          "name": "idx_submission_homework",
          "columns": [
            {
              "expression": "homework_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submission_student": {
          "name": "idx_submission_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "homework_submissions_homework_id_homework_id_fk": {
          "name": "homework_submissions_homework_id_homework_id_fk",
          "tableFrom": "homework_submissions",
          "tableTo": "homework",
          "columnsFrom": [
            "homework_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "homework_submissions_student_id_students_id_fk": {
          "name": "homework_submissions_student_id_students_id_fk",
          "tableFrom": "homework_submissions",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "homework_submissions_graded_by_teachers_id_fk": {
          "name": "homework_submissions_graded_by_teachers_id_fk",
          "tableFrom": "homework_submissions",
          "tableTo": "teachers",
          "columnsFrom": [
            "graded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_homework_student": {
          "name": "unique_homework_student",
          "nullsNotDistinct": false,
          "columns": [
            "homework_id",
            "student_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.installments": {
      "name": "installments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "payment_plan_id": {
          "name": "payment_plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "installment_number": {
          "name": "installment_number",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "paid_amount": {
          "name": "paid_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "balance": {
          "name": "balance",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "days_overdue": {
          "name": "days_overdue",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_installments_plan": {
          "name": "idx_installments_plan",
          "columns": [
            {
              "expression": "payment_plan_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_installments_due_date": {
          "name": "idx_installments_due_date",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_installments_status": {
          "name": "idx_installments_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "installments_payment_plan_id_payment_plans_id_fk": {
          "name": "installments_payment_plan_id_payment_plans_id_fk",
          "tableFrom": "installments",
          "tableTo": "payment_plans",
          "columnsFrom": [
            "payment_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.matricule_sequences": {
      "name": "matricule_sequences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prefix": {
          "name": "prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_number": {
          "name": "last_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "format": {
          "name": "format",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'{prefix}{year}{sequence:4}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_matricule_seq_school_year": {
          "name": "idx_matricule_seq_school_year",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "matricule_sequences_school_id_schools_id_fk": {
          "name": "matricule_sequences_school_id_schools_id_fk",
          "tableFrom": "matricule_sequences",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "matricule_sequences_school_year_id_school_years_id_fk": {
          "name": "matricule_sequences_school_year_id_school_years_id_fk",
          "tableFrom": "matricule_sequences",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_matricule_seq_school_year": {
          "name": "unique_matricule_seq_school_year",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "school_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_templates": {
      "name": "message_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_en": {
          "name": "name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "placeholders": {
          "name": "placeholders",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_templates_school": {
          "name": "idx_templates_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_templates_category": {
          "name": "idx_templates_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_templates_school_id_schools_id_fk": {
          "name": "message_templates_school_id_schools_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_templates_created_by_users_id_fk": {
          "name": "message_templates_created_by_users_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.parents": {
      "name": "parents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone_2": {
          "name": "phone_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occupation": {
          "name": "occupation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workplace": {
          "name": "workplace",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invitation_status": {
          "name": "invitation_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "invitation_sent_at": {
          "name": "invitation_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "invitation_token": {
          "name": "invitation_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invitation_expires_at": {
          "name": "invitation_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_parents_user": {
          "name": "idx_parents_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parents_phone": {
          "name": "idx_parents_phone",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parents_email": {
          "name": "idx_parents_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parents_phone2": {
          "name": "idx_parents_phone2",
          "columns": [
            {
              "expression": "phone_2",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parents_invitation_status": {
          "name": "idx_parents_invitation_status",
          "columns": [
            {
              "expression": "invitation_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parents_name": {
          "name": "idx_parents_name",
          "columns": [
            {
              "expression": "last_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "first_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "parents_user_id_users_id_fk": {
          "name": "parents_user_id_users_id_fk",
          "tableFrom": "parents",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.participation_grades": {
      "name": "participation_grades",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_session_id": {
          "name": "class_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grade": {
          "name": "grade",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_participation_session": {
          "name": "idx_participation_session",
          "columns": [
            {
              "expression": "class_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_participation_student": {
          "name": "idx_participation_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_participation_teacher": {
          "name": "idx_participation_teacher",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "participation_grades_student_id_students_id_fk": {
          "name": "participation_grades_student_id_students_id_fk",
          "tableFrom": "participation_grades",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "participation_grades_class_session_id_class_sessions_id_fk": {
          "name": "participation_grades_class_session_id_class_sessions_id_fk",
          "tableFrom": "participation_grades",
          "tableTo": "class_sessions",
          "columnsFrom": [
            "class_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "participation_grades_teacher_id_teachers_id_fk": {
          "name": "participation_grades_teacher_id_teachers_id_fk",
          "tableFrom": "participation_grades",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_session_participation": {
          "name": "unique_student_session_participation",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "class_session_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_allocations": {
      "name": "payment_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_fee_id": {
          "name": "student_fee_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "installment_id": {
          "name": "installment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payment_allocations_payment": {
          "name": "idx_payment_allocations_payment",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_allocations_fee": {
          "name": "idx_payment_allocations_fee",
          "columns": [
            {
              "expression": "student_fee_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_allocations_installment": {
          "name": "idx_payment_allocations_installment",
          "columns": [
            {
              "expression": "installment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_allocations_payment_id_payments_id_fk": {
          "name": "payment_allocations_payment_id_payments_id_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "payments",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_allocations_student_fee_id_student_fees_id_fk": {
          "name": "payment_allocations_student_fee_id_student_fees_id_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "student_fees",
          "columnsFrom": [
            "student_fee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "payment_allocations_installment_id_installments_id_fk": {
          "name": "payment_allocations_installment_id_installments_id_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "installments",
          "columnsFrom": [
            "installment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_plan_templates": {
      "name": "payment_plan_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name_en": {
          "name": "name_en",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "installments_count": {
          "name": "installments_count",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "schedule": {
          "name": "schedule",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payment_plan_templates_school": {
          "name": "idx_payment_plan_templates_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_plan_templates_year": {
          "name": "idx_payment_plan_templates_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_plan_templates_school_id_schools_id_fk": {
          "name": "payment_plan_templates_school_id_schools_id_fk",
          "tableFrom": "payment_plan_templates",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_plan_templates_school_year_id_school_years_id_fk": {
          "name": "payment_plan_templates_school_year_id_school_years_id_fk",
          "tableFrom": "payment_plan_templates",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_plans": {
      "name": "payment_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "paid_amount": {
          "name": "paid_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "balance": {
          "name": "balance",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payment_plans_student": {
          "name": "idx_payment_plans_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_plans_year": {
          "name": "idx_payment_plans_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_plans_status": {
          "name": "idx_payment_plans_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_plans_student_id_students_id_fk": {
          "name": "payment_plans_student_id_students_id_fk",
          "tableFrom": "payment_plans",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_plans_school_year_id_school_years_id_fk": {
          "name": "payment_plans_school_year_id_school_years_id_fk",
          "tableFrom": "payment_plans",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_plans_template_id_payment_plan_templates_id_fk": {
          "name": "payment_plans_template_id_payment_plan_templates_id_fk",
          "tableFrom": "payment_plans",
          "tableTo": "payment_plan_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_plans_created_by_users_id_fk": {
          "name": "payment_plans_created_by_users_id_fk",
          "tableFrom": "payment_plans",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_payment_plan": {
          "name": "unique_student_payment_plan",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "school_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_plan_id": {
          "name": "payment_plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'XOF'"
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference": {
          "name": "reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bank_name": {
          "name": "bank_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mobile_provider": {
          "name": "mobile_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "payer_name": {
          "name": "payer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payer_phone": {
          "name": "payer_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'completed'"
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_by": {
          "name": "processed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payments_school": {
          "name": "idx_payments_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_student": {
          "name": "idx_payments_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_plan": {
          "name": "idx_payments_plan",
          "columns": [
            {
              "expression": "payment_plan_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_date": {
          "name": "idx_payments_date",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "payment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_method": {
          "name": "idx_payments_method",
          "columns": [
            {
              "expression": "method",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_status": {
          "name": "idx_payments_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_receipt": {
          "name": "idx_payments_receipt",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "receipt_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_processed_by": {
          "name": "idx_payments_processed_by",
          "columns": [
            {
              "expression": "processed_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "payment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payments_school_id_schools_id_fk": {
          "name": "payments_school_id_schools_id_fk",
          "tableFrom": "payments",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payments_student_id_students_id_fk": {
          "name": "payments_student_id_students_id_fk",
          "tableFrom": "payments",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payments_payment_plan_id_payment_plans_id_fk": {
          "name": "payments_payment_plan_id_payment_plans_id_fk",
          "tableFrom": "payments",
          "tableTo": "payment_plans",
          "columnsFrom": [
            "payment_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payments_cancelled_by_users_id_fk": {
          "name": "payments_cancelled_by_users_id_fk",
          "tableFrom": "payments",
          "tableTo": "users",
          "columnsFrom": [
            "cancelled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payments_processed_by_users_id_fk": {
          "name": "payments_processed_by_users_id_fk",
          "tableFrom": "payments",
          "tableTo": "users",
          "columnsFrom": [
            "processed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_receipt_number": {
          "name": "unique_receipt_number",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "receipt_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.receipts": {
      "name": "receipts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_name": {
          "name": "student_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_matricule": {
          "name": "student_matricule",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_name": {
          "name": "class_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "amount_in_words": {
          "name": "amount_in_words",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_reference": {
          "name": "payment_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "fee_details": {
          "name": "fee_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "school_name": {
          "name": "school_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_address": {
          "name": "school_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "school_phone": {
          "name": "school_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "school_logo_url": {
          "name": "school_logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_by": {
          "name": "issued_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reprint_count": {
          "name": "reprint_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_reprinted_at": {
          "name": "last_reprinted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_reprinted_by": {
          "name": "last_reprinted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_receipts_payment": {
          "name": "idx_receipts_payment",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_receipts_number": {
          "name": "idx_receipts_number",
          "columns": [
            {
              "expression": "receipt_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_receipts_date": {
          "name": "idx_receipts_date",
          "columns": [
            {
              "expression": "payment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "receipts_payment_id_payments_id_fk": {
          "name": "receipts_payment_id_payments_id_fk",
          "tableFrom": "receipts",
          "tableTo": "payments",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "receipts_last_reprinted_by_users_id_fk": {
          "name": "receipts_last_reprinted_by_users_id_fk",
          "tableFrom": "receipts",
          "tableTo": "users",
          "columnsFrom": [
            "last_reprinted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.refunds": {
      "name": "refunds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refund_number": {
          "name": "refund_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason_category": {
          "name": "reason_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference": {
          "name": "reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_by": {
          "name": "processed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_refunds_payment": {
          "name": "idx_refunds_payment",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_refunds_school": {
          "name": "idx_refunds_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_refunds_status": {
          "name": "idx_refunds_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_refunds_date": {
          "name": "idx_refunds_date",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "requested_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "refunds_payment_id_payments_id_fk": {
          "name": "refunds_payment_id_payments_id_fk",
          "tableFrom": "refunds",
          "tableTo": "payments",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "refunds_school_id_schools_id_fk": {
          "name": "refunds_school_id_schools_id_fk",
          "tableFrom": "refunds",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "refunds_requested_by_users_id_fk": {
          "name": "refunds_requested_by_users_id_fk",
          "tableFrom": "refunds",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "refunds_approved_by_users_id_fk": {
          "name": "refunds_approved_by_users_id_fk",
          "tableFrom": "refunds",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "refunds_processed_by_users_id_fk": {
          "name": "refunds_processed_by_users_id_fk",
          "tableFrom": "refunds",
          "tableTo": "users",
          "columnsFrom": [
            "processed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_refund_number": {
          "name": "unique_refund_number",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "refund_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.report_card_templates": {
      "name": "report_card_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "primary_color": {
          "name": "primary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#1e40af'"
        },
        "font_family": {
          "name": "font_family",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'DM Sans'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_report_templates_school": {
          "name": "idx_report_templates_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "report_card_templates_school_id_schools_id_fk": {
          "name": "report_card_templates_school_id_schools_id_fk",
          "tableFrom": "report_card_templates",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.report_cards": {
      "name": "report_cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "term_id": {
          "name": "term_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_size": {
          "name": "pdf_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sent_to": {
          "name": "sent_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_method": {
          "name": "delivery_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "bounce_reason": {
          "name": "bounce_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homeroom_comment": {
          "name": "homeroom_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conduct_summary": {
          "name": "conduct_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attendance_summary": {
          "name": "attendance_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "template_version": {
          "name": "template_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_report_cards_class_term": {
          "name": "idx_report_cards_class_term",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_cards_status": {
          "name": "idx_report_cards_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_cards_student": {
          "name": "idx_report_cards_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_cards_school_year": {
          "name": "idx_report_cards_school_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "report_cards_student_id_students_id_fk": {
          "name": "report_cards_student_id_students_id_fk",
          "tableFrom": "report_cards",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "report_cards_class_id_classes_id_fk": {
          "name": "report_cards_class_id_classes_id_fk",
          "tableFrom": "report_cards",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "report_cards_term_id_terms_id_fk": {
          "name": "report_cards_term_id_terms_id_fk",
          "tableFrom": "report_cards",
          "tableTo": "terms",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "report_cards_school_year_id_school_years_id_fk": {
          "name": "report_cards_school_year_id_school_years_id_fk",
          "tableFrom": "report_cards",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "report_cards_template_id_report_card_templates_id_fk": {
          "name": "report_cards_template_id_report_card_templates_id_fk",
          "tableFrom": "report_cards",
          "tableTo": "report_card_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "report_cards_generated_by_users_id_fk": {
          "name": "report_cards_generated_by_users_id_fk",
          "tableFrom": "report_cards",
          "tableTo": "users",
          "columnsFrom": [
            "generated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_term": {
          "name": "unique_student_term",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "term_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_system_role": {
          "name": "is_system_role",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "extra_languages": {
          "name": "extra_languages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_roles_slug": {
          "name": "idx_roles_slug",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_roles_scope": {
          "name": "idx_roles_scope",
          "columns": [
            {
              "expression": "scope",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "roles_slug_unique": {
          "name": "roles_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.school_files": {
      "name": "school_files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_school_files_school": {
          "name": "idx_school_files_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_files_entity": {
          "name": "idx_school_files_entity",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_files_deleted_at": {
          "name": "idx_school_files_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "school_files_school_id_schools_id_fk": {
          "name": "school_files_school_id_schools_id_fk",
          "tableFrom": "school_files",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "school_files_uploaded_by_users_id_fk": {
          "name": "school_files_uploaded_by_users_id_fk",
          "tableFrom": "school_files",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "school_files_deleted_by_users_id_fk": {
          "name": "school_files_deleted_by_users_id_fk",
          "tableFrom": "school_files",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "school_files_key_unique": {
          "name": "school_files_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.school_subject_coefficients": {
      "name": "school_subject_coefficients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "coefficient_template_id": {
          "name": "coefficient_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "weight_override": {
          "name": "weight_override",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_school_coeffs_school": {
          "name": "idx_school_coeffs_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_coeffs_template": {
          "name": "idx_school_coeffs_template",
          "columns": [
            {
              "expression": "coefficient_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_coeffs_lookup": {
          "name": "idx_school_coeffs_lookup",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "coefficient_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "school_subject_coefficients_school_id_schools_id_fk": {
          "name": "school_subject_coefficients_school_id_schools_id_fk",
          "tableFrom": "school_subject_coefficients",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "school_subject_coefficients_coefficient_template_id_coefficient_templates_id_fk": {
          "name": "school_subject_coefficients_coefficient_template_id_coefficient_templates_id_fk",
          "tableFrom": "school_subject_coefficients",
          "tableTo": "coefficient_templates",
          "columnsFrom": [
            "coefficient_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_template": {
          "name": "unique_school_template",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "coefficient_template_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.school_subjects": {
      "name": "school_subjects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_school_subjects_school": {
          "name": "idx_school_subjects_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_subjects_year": {
          "name": "idx_school_subjects_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_subjects_status": {
          "name": "idx_school_subjects_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_subjects_lookup": {
          "name": "idx_school_subjects_lookup",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "school_subjects_school_id_schools_id_fk": {
          "name": "school_subjects_school_id_schools_id_fk",
          "tableFrom": "school_subjects",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "school_subjects_subject_id_subjects_id_fk": {
          "name": "school_subjects_subject_id_subjects_id_fk",
          "tableFrom": "school_subjects",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "school_subjects_school_year_id_school_years_id_fk": {
          "name": "school_subjects_school_year_id_school_years_id_fk",
          "tableFrom": "school_subjects",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_subject_year": {
          "name": "unique_school_subject_year",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "subject_id",
            "school_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.school_years": {
      "name": "school_years",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_template_id": {
          "name": "school_year_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_school_years_school": {
          "name": "idx_school_years_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_years_active": {
          "name": "idx_school_years_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_school_years_school_active": {
          "name": "idx_school_years_school_active",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "school_years_school_id_schools_id_fk": {
          "name": "school_years_school_id_schools_id_fk",
          "tableFrom": "school_years",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "school_years_school_year_template_id_school_year_templates_id_fk": {
          "name": "school_years_school_year_template_id_school_year_templates_id_fk",
          "tableFrom": "school_years",
          "tableTo": "school_year_templates",
          "columnsFrom": [
            "school_year_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff": {
      "name": "staff",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "position": {
          "name": "position",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hire_date": {
          "name": "hire_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_staff_user": {
          "name": "idx_staff_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_staff_school": {
          "name": "idx_staff_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_staff_position": {
          "name": "idx_staff_position",
          "columns": [
            {
              "expression": "position",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "staff_user_id_users_id_fk": {
          "name": "staff_user_id_users_id_fk",
          "tableFrom": "staff",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_school_id_schools_id_fk": {
          "name": "staff_school_id_schools_id_fk",
          "tableFrom": "staff",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_attendance": {
      "name": "student_attendance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_session_id": {
          "name": "class_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'present'"
        },
        "arrival_time": {
          "name": "arrival_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "late_minutes": {
          "name": "late_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason_category": {
          "name": "reason_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "excused_by": {
          "name": "excused_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "excused_at": {
          "name": "excused_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "parent_notified": {
          "name": "parent_notified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notified_at": {
          "name": "notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notification_method": {
          "name": "notification_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_by": {
          "name": "recorded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_student_attendance_student_date": {
          "name": "idx_student_attendance_student_date",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_attendance_class_date_session": {
          "name": "idx_student_attendance_class_date_session",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "class_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_attendance_session": {
          "name": "idx_student_attendance_session",
          "columns": [
            {
              "expression": "class_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_attendance_status": {
          "name": "idx_student_attendance_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_attendance_school_date_status": {
          "name": "idx_student_attendance_school_date_status",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_attendance_student_id_students_id_fk": {
          "name": "student_attendance_student_id_students_id_fk",
          "tableFrom": "student_attendance",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_attendance_class_id_classes_id_fk": {
          "name": "student_attendance_class_id_classes_id_fk",
          "tableFrom": "student_attendance",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_attendance_school_id_schools_id_fk": {
          "name": "student_attendance_school_id_schools_id_fk",
          "tableFrom": "student_attendance",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_attendance_class_session_id_class_sessions_id_fk": {
          "name": "student_attendance_class_session_id_class_sessions_id_fk",
          "tableFrom": "student_attendance",
          "tableTo": "class_sessions",
          "columnsFrom": [
            "class_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "student_attendance_excused_by_users_id_fk": {
          "name": "student_attendance_excused_by_users_id_fk",
          "tableFrom": "student_attendance",
          "tableTo": "users",
          "columnsFrom": [
            "excused_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "student_attendance_recorded_by_users_id_fk": {
          "name": "student_attendance_recorded_by_users_id_fk",
          "tableFrom": "student_attendance",
          "tableTo": "users",
          "columnsFrom": [
            "recorded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_attendance": {
          "name": "unique_student_attendance",
          "nullsNotDistinct": true,
          "columns": [
            "student_id",
            "date",
            "class_id",
            "class_session_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_averages": {
      "name": "student_averages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "term_id": {
          "name": "term_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "average": {
          "name": "average",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "weighted_average": {
          "name": "weighted_average",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "grade_count": {
          "name": "grade_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rank_in_class": {
          "name": "rank_in_class",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "rank_in_grade": {
          "name": "rank_in_grade",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_final": {
          "name": "is_final",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "idx_averages_student_term": {
          "name": "idx_averages_student_term",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_averages_class_term": {
          "name": "idx_averages_class_term",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_averages_class_term_final": {
          "name": "idx_averages_class_term_final",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_final",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_averages_student_id_students_id_fk": {
          "name": "student_averages_student_id_students_id_fk",
          "tableFrom": "student_averages",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_averages_term_id_terms_id_fk": {
          "name": "student_averages_term_id_terms_id_fk",
          "tableFrom": "student_averages",
          "tableTo": "terms",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_averages_subject_id_subjects_id_fk": {
          "name": "student_averages_subject_id_subjects_id_fk",
          "tableFrom": "student_averages",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "student_averages_class_id_classes_id_fk": {
          "name": "student_averages_class_id_classes_id_fk",
          "tableFrom": "student_averages",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_term_subject": {
          "name": "unique_student_term_subject",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "term_id",
            "subject_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_discounts": {
      "name": "student_discounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_id": {
          "name": "discount_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calculated_amount": {
          "name": "calculated_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_student_discounts_student": {
          "name": "idx_student_discounts_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_discounts_year": {
          "name": "idx_student_discounts_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_discounts_status": {
          "name": "idx_student_discounts_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_discounts_student_id_students_id_fk": {
          "name": "student_discounts_student_id_students_id_fk",
          "tableFrom": "student_discounts",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_discounts_discount_id_discounts_id_fk": {
          "name": "student_discounts_discount_id_discounts_id_fk",
          "tableFrom": "student_discounts",
          "tableTo": "discounts",
          "columnsFrom": [
            "discount_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "student_discounts_school_year_id_school_years_id_fk": {
          "name": "student_discounts_school_year_id_school_years_id_fk",
          "tableFrom": "student_discounts",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_discounts_approved_by_users_id_fk": {
          "name": "student_discounts_approved_by_users_id_fk",
          "tableFrom": "student_discounts",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_discount_year": {
          "name": "unique_student_discount_year",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "discount_id",
            "school_year_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_fees": {
      "name": "student_fees",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fee_structure_id": {
          "name": "fee_structure_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_amount": {
          "name": "original_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "final_amount": {
          "name": "final_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "paid_amount": {
          "name": "paid_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "balance": {
          "name": "balance",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "waived_at": {
          "name": "waived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "waived_by": {
          "name": "waived_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "waiver_reason": {
          "name": "waiver_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_student_fees_student": {
          "name": "idx_student_fees_student",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_fees_enrollment": {
          "name": "idx_student_fees_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_fees_status": {
          "name": "idx_student_fees_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_fees_student_id_students_id_fk": {
          "name": "student_fees_student_id_students_id_fk",
          "tableFrom": "student_fees",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_fees_enrollment_id_enrollments_id_fk": {
          "name": "student_fees_enrollment_id_enrollments_id_fk",
          "tableFrom": "student_fees",
          "tableTo": "enrollments",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_fees_fee_structure_id_fee_structures_id_fk": {
          "name": "student_fees_fee_structure_id_fee_structures_id_fk",
          "tableFrom": "student_fees",
          "tableTo": "fee_structures",
          "columnsFrom": [
            "fee_structure_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "student_fees_waived_by_users_id_fk": {
          "name": "student_fees_waived_by_users_id_fk",
          "tableFrom": "student_fees",
          "tableTo": "users",
          "columnsFrom": [
            "waived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_fee": {
          "name": "unique_student_fee",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "enrollment_id",
            "fee_structure_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_grades": {
      "name": "student_grades",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "term_id": {
          "name": "term_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "grade_date": {
          "name": "grade_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "validated_by": {
          "name": "validated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_grades_student_term_subject": {
          "name": "idx_grades_student_term_subject",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grades_class_subject_term": {
          "name": "idx_grades_class_subject_term",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grades_teacher_status": {
          "name": "idx_grades_teacher_status",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grades_status": {
          "name": "idx_grades_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grades_term_status": {
          "name": "idx_grades_term_status",
          "columns": [
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_grades_class_term": {
          "name": "idx_grades_class_term",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_grades_student_id_students_id_fk": {
          "name": "student_grades_student_id_students_id_fk",
          "tableFrom": "student_grades",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_grades_class_id_classes_id_fk": {
          "name": "student_grades_class_id_classes_id_fk",
          "tableFrom": "student_grades",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_grades_subject_id_subjects_id_fk": {
          "name": "student_grades_subject_id_subjects_id_fk",
          "tableFrom": "student_grades",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "student_grades_term_id_terms_id_fk": {
          "name": "student_grades_term_id_terms_id_fk",
          "tableFrom": "student_grades",
          "tableTo": "terms",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_grades_teacher_id_teachers_id_fk": {
          "name": "student_grades_teacher_id_teachers_id_fk",
          "tableFrom": "student_grades",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "student_grades_validated_by_users_id_fk": {
          "name": "student_grades_validated_by_users_id_fk",
          "tableFrom": "student_grades",
          "tableTo": "users",
          "columnsFrom": [
            "validated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_parents": {
      "name": "student_parents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship": {
          "name": "relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "can_pickup": {
          "name": "can_pickup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "receive_notifications": {
          "name": "receive_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_student_parents_composite": {
          "name": "idx_student_parents_composite",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_parents_parent": {
          "name": "idx_student_parents_parent",
          "columns": [
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_parents_primary": {
          "name": "idx_student_parents_primary",
          "columns": [
            {
              "expression": "student_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_primary",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_parents_student_id_students_id_fk": {
          "name": "student_parents_student_id_students_id_fk",
          "tableFrom": "student_parents",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_parents_parent_id_parents_id_fk": {
          "name": "student_parents_parent_id_parents_id_fk",
          "tableFrom": "student_parents",
          "tableTo": "parents",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_student_parent": {
          "name": "unique_student_parent",
          "nullsNotDistinct": false,
          "columns": [
            "student_id",
            "parent_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.students": {
      "name": "students",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dob": {
          "name": "dob",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "matricule": {
          "name": "matricule",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "birth_place": {
          "name": "birth_place",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nationality": {
          "name": "nationality",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Ivoirien'"
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact": {
          "name": "emergency_contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_phone": {
          "name": "emergency_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blood_type": {
          "name": "blood_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "medical_notes": {
          "name": "medical_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_school": {
          "name": "previous_school",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admission_date": {
          "name": "admission_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "graduation_date": {
          "name": "graduation_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_date": {
          "name": "transfer_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_reason": {
          "name": "transfer_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawal_date": {
          "name": "withdrawal_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawal_reason": {
          "name": "withdrawal_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_students_school": {
          "name": "idx_students_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_matricule": {
          "name": "idx_students_matricule",
          "columns": [
            {
              "expression": "matricule",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_status": {
          "name": "idx_students_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_school_status": {
          "name": "idx_students_school_status",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_name": {
          "name": "idx_students_name",
          "columns": [
            {
              "expression": "last_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "first_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_dob": {
          "name": "idx_students_dob",
          "columns": [
            {
              "expression": "dob",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_students_admission": {
          "name": "idx_students_admission",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "admission_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "students_school_id_schools_id_fk": {
          "name": "students_school_id_schools_id_fk",
          "tableFrom": "students",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_school_matricule": {
          "name": "unique_school_matricule",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "matricule"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teacher_attendance": {
      "name": "teacher_attendance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'present'"
        },
        "arrival_time": {
          "name": "arrival_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "departure_time": {
          "name": "departure_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "late_minutes": {
          "name": "late_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_by": {
          "name": "recorded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_teacher_attendance_teacher_date": {
          "name": "idx_teacher_attendance_teacher_date",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_teacher_attendance_school_date": {
          "name": "idx_teacher_attendance_school_date",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_teacher_attendance_status": {
          "name": "idx_teacher_attendance_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_teacher_attendance_date_range": {
          "name": "idx_teacher_attendance_date_range",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "teacher_attendance_teacher_id_teachers_id_fk": {
          "name": "teacher_attendance_teacher_id_teachers_id_fk",
          "tableFrom": "teacher_attendance",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_attendance_school_id_schools_id_fk": {
          "name": "teacher_attendance_school_id_schools_id_fk",
          "tableFrom": "teacher_attendance",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_attendance_recorded_by_users_id_fk": {
          "name": "teacher_attendance_recorded_by_users_id_fk",
          "tableFrom": "teacher_attendance",
          "tableTo": "users",
          "columnsFrom": [
            "recorded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_teacher_date": {
          "name": "unique_teacher_date",
          "nullsNotDistinct": false,
          "columns": [
            "teacher_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teacher_comments": {
      "name": "teacher_comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "report_card_id": {
          "name": "report_card_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_teacher_comments_report": {
          "name": "idx_teacher_comments_report",
          "columns": [
            {
              "expression": "report_card_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_teacher_comments_teacher": {
          "name": "idx_teacher_comments_teacher",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "teacher_comments_report_card_id_report_cards_id_fk": {
          "name": "teacher_comments_report_card_id_report_cards_id_fk",
          "tableFrom": "teacher_comments",
          "tableTo": "report_cards",
          "columnsFrom": [
            "report_card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_comments_subject_id_subjects_id_fk": {
          "name": "teacher_comments_subject_id_subjects_id_fk",
          "tableFrom": "teacher_comments",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_comments_teacher_id_teachers_id_fk": {
          "name": "teacher_comments_teacher_id_teachers_id_fk",
          "tableFrom": "teacher_comments",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_report_subject": {
          "name": "unique_report_subject",
          "nullsNotDistinct": false,
          "columns": [
            "report_card_id",
            "subject_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teacher_messages": {
      "name": "teacher_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sender_type": {
          "name": "sender_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_type": {
          "name": "recipient_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_id": {
          "name": "recipient_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reply_to_id": {
          "name": "reply_to_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_starred": {
          "name": "is_starred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_messages_sender": {
          "name": "idx_messages_sender",
          "columns": [
            {
              "expression": "sender_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sender_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_messages_recipient_archived": {
          "name": "idx_messages_recipient_archived",
          "columns": [
            {
              "expression": "recipient_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recipient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_messages_thread_created": {
          "name": "idx_messages_thread_created",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_messages_created": {
          "name": "idx_messages_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "teacher_messages_school_id_schools_id_fk": {
          "name": "teacher_messages_school_id_schools_id_fk",
          "tableFrom": "teacher_messages",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_messages_student_id_students_id_fk": {
          "name": "teacher_messages_student_id_students_id_fk",
          "tableFrom": "teacher_messages",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "teacher_messages_class_id_classes_id_fk": {
          "name": "teacher_messages_class_id_classes_id_fk",
          "tableFrom": "teacher_messages",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teacher_notifications": {
      "name": "teacher_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_data": {
          "name": "action_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "related_type": {
          "name": "related_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_id": {
          "name": "related_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_notifications_teacher": {
          "name": "idx_notifications_teacher",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_created": {
          "name": "idx_notifications_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "teacher_notifications_teacher_id_teachers_id_fk": {
          "name": "teacher_notifications_teacher_id_teachers_id_fk",
          "tableFrom": "teacher_notifications",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teacher_subjects": {
      "name": "teacher_subjects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_teacher_subjects_composite": {
          "name": "idx_teacher_subjects_composite",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "teacher_subjects_teacher_id_teachers_id_fk": {
          "name": "teacher_subjects_teacher_id_teachers_id_fk",
          "tableFrom": "teacher_subjects",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_subjects_subject_id_subjects_id_fk": {
          "name": "teacher_subjects_subject_id_subjects_id_fk",
          "tableFrom": "teacher_subjects",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_teacher_subject": {
          "name": "unique_teacher_subject",
          "nullsNotDistinct": false,
          "columns": [
            "teacher_id",
            "subject_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teachers": {
      "name": "teachers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "specialization": {
          "name": "specialization",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hire_date": {
          "name": "hire_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_teachers_user": {
          "name": "idx_teachers_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_teachers_school": {
          "name": "idx_teachers_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_teachers_school_status": {
          "name": "idx_teachers_school_status",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "teachers_user_id_users_id_fk": {
          "name": "teachers_user_id_users_id_fk",
          "tableFrom": "teachers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teachers_school_id_schools_id_fk": {
          "name": "teachers_school_id_schools_id_fk",
          "tableFrom": "teachers",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.terms": {
      "name": "terms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "term_template_id": {
          "name": "term_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_terms_school_year": {
          "name": "idx_terms_school_year",
          "columns": [
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "terms_school_year_id_school_years_id_fk": {
          "name": "terms_school_year_id_school_years_id_fk",
          "tableFrom": "terms",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "terms_term_template_id_term_templates_id_fk": {
          "name": "terms_term_template_id_term_templates_id_fk",
          "tableFrom": "terms",
          "tableTo": "term_templates",
          "columnsFrom": [
            "term_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.timetable_sessions": {
      "name": "timetable_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_year_id": {
          "name": "school_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "classroom_id": {
          "name": "classroom_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "effective_until": {
          "name": "effective_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_timetable_class_day": {
          "name": "idx_timetable_class_day",
          "columns": [
            {
              "expression": "class_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timetable_teacher_day": {
          "name": "idx_timetable_teacher_day",
          "columns": [
            {
              "expression": "teacher_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timetable_classroom_day": {
          "name": "idx_timetable_classroom_day",
          "columns": [
            {
              "expression": "classroom_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timetable_conflicts": {
          "name": "idx_timetable_conflicts",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timetable_school_year_day": {
          "name": "idx_timetable_school_year_day",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "timetable_sessions_school_id_schools_id_fk": {
          "name": "timetable_sessions_school_id_schools_id_fk",
          "tableFrom": "timetable_sessions",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "timetable_sessions_school_year_id_school_years_id_fk": {
          "name": "timetable_sessions_school_year_id_school_years_id_fk",
          "tableFrom": "timetable_sessions",
          "tableTo": "school_years",
          "columnsFrom": [
            "school_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "timetable_sessions_class_id_classes_id_fk": {
          "name": "timetable_sessions_class_id_classes_id_fk",
          "tableFrom": "timetable_sessions",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "timetable_sessions_subject_id_subjects_id_fk": {
          "name": "timetable_sessions_subject_id_subjects_id_fk",
          "tableFrom": "timetable_sessions",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "timetable_sessions_teacher_id_teachers_id_fk": {
          "name": "timetable_sessions_teacher_id_teachers_id_fk",
          "tableFrom": "timetable_sessions",
          "tableTo": "teachers",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "timetable_sessions_classroom_id_classrooms_id_fk": {
          "name": "timetable_sessions_classroom_id_classrooms_id_fk",
          "tableFrom": "timetable_sessions",
          "tableTo": "classrooms",
          "columnsFrom": [
            "classroom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transaction_lines": {
      "name": "transaction_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "line_number": {
          "name": "line_number",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "debit_amount": {
          "name": "debit_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "credit_amount": {
          "name": "credit_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transaction_lines_transaction": {
          "name": "idx_transaction_lines_transaction",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transaction_lines_account": {
          "name": "idx_transaction_lines_account",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transaction_lines_amounts": {
          "name": "idx_transaction_lines_amounts",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "debit_amount",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "credit_amount",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transaction_lines_transaction_id_transactions_id_fk": {
          "name": "transaction_lines_transaction_id_transactions_id_fk",
          "tableFrom": "transaction_lines",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_lines_account_id_accounts_id_fk": {
          "name": "transaction_lines_account_id_accounts_id_fk",
          "tableFrom": "transaction_lines",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fiscal_year_id": {
          "name": "fiscal_year_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_number": {
          "name": "transaction_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference": {
          "name": "reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'XOF'"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_id": {
          "name": "payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'posted'"
        },
        "voided_at": {
          "name": "voided_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "voided_by": {
          "name": "voided_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "void_reason": {
          "name": "void_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transactions_school": {
          "name": "idx_transactions_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_fiscal_year": {
          "name": "idx_transactions_fiscal_year",
          "columns": [
            {
              "expression": "fiscal_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_date": {
          "name": "idx_transactions_date",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_type": {
          "name": "idx_transactions_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transactions_status": {
          "name": "idx_transactions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transactions_school_id_schools_id_fk": {
          "name": "transactions_school_id_schools_id_fk",
          "tableFrom": "transactions",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transactions_fiscal_year_id_fiscal_years_id_fk": {
          "name": "transactions_fiscal_year_id_fiscal_years_id_fk",
          "tableFrom": "transactions",
          "tableTo": "fiscal_years",
          "columnsFrom": [
            "fiscal_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "transactions_student_id_students_id_fk": {
          "name": "transactions_student_id_students_id_fk",
          "tableFrom": "transactions",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transactions_payment_id_payments_id_fk": {
          "name": "transactions_payment_id_payments_id_fk",
          "tableFrom": "transactions",
          "tableTo": "payments",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transactions_voided_by_users_id_fk": {
          "name": "transactions_voided_by_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "voided_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transactions_created_by_users_id_fk": {
          "name": "transactions_created_by_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_transaction_number": {
          "name": "unique_transaction_number",
          "nullsNotDistinct": false,
          "columns": [
            "school_id",
            "transaction_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_roles_composite": {
          "name": "idx_user_roles_composite",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_school": {
          "name": "idx_user_roles_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_roles_user_id_users_id_fk": {
          "name": "user_roles_user_id_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_role_id_roles_id_fk": {
          "name": "user_roles_role_id_roles_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_school_id_schools_id_fk": {
          "name": "user_roles_school_id_schools_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_role_school": {
          "name": "unique_user_role_school",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "role_id",
            "school_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_schools": {
      "name": "user_schools",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_schools_user": {
          "name": "idx_user_schools_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_schools_school": {
          "name": "idx_user_schools_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_schools_composite": {
          "name": "idx_user_schools_composite",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_schools_user_id_users_id_fk": {
          "name": "user_schools_user_id_users_id_fk",
          "tableFrom": "user_schools",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_schools_school_id_schools_id_fk": {
          "name": "user_schools_school_id_schools_id_fk",
          "tableFrom": "user_schools",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_school": {
          "name": "unique_user_school",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "school_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "auth_user_id": {
          "name": "auth_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_phone": {
          "name": "idx_users_phone",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_status": {
          "name": "idx_users_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_auth_user": {
          "name": "idx_users_auth_user",
          "columns": [
            {
              "expression": "auth_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_auth_user_id_auth_user_id_fk": {
          "name": "users_auth_user_id_auth_user_id_fk",
          "tableFrom": "users",
          "tableTo": "auth_user",
          "columnsFrom": [
            "auth_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_auth_user_id_unique": {
          "name": "users_auth_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "auth_user_id"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.crm_activities": {
      "name": "crm_activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_follow_up": {
          "name": "next_follow_up",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_crm_activities_contact": {
          "name": "idx_crm_activities_contact",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_activities_school": {
          "name": "idx_crm_activities_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_activities_type": {
          "name": "idx_crm_activities_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_activities_created": {
          "name": "idx_crm_activities_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "crm_activities_contact_id_crm_contacts_id_fk": {
          "name": "crm_activities_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_activities",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "crm_activities_school_id_schools_id_fk": {
          "name": "crm_activities_school_id_schools_id_fk",
          "tableFrom": "crm_activities",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "crm_activities_user_id_users_id_fk": {
          "name": "crm_activities_user_id_users_id_fk",
          "tableFrom": "crm_activities",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.crm_contacts": {
      "name": "crm_contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_at": {
          "name": "last_contacted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_follow_up": {
          "name": "next_follow_up",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_crm_contacts_school": {
          "name": "idx_crm_contacts_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_contacts_email": {
          "name": "idx_crm_contacts_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_contacts_name": {
          "name": "idx_crm_contacts_name",
          "columns": [
            {
              "expression": "contact_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_contacts_followup": {
          "name": "idx_crm_contacts_followup",
          "columns": [
            {
              "expression": "next_follow_up",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "crm_contacts_school_id_schools_id_fk": {
          "name": "crm_contacts_school_id_schools_id_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.crm_tasks": {
      "name": "crm_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_crm_tasks_contact": {
          "name": "idx_crm_tasks_contact",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_tasks_school": {
          "name": "idx_crm_tasks_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_tasks_user": {
          "name": "idx_crm_tasks_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_tasks_status": {
          "name": "idx_crm_tasks_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_crm_tasks_due": {
          "name": "idx_crm_tasks_due",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "crm_tasks_contact_id_crm_contacts_id_fk": {
          "name": "crm_tasks_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_tasks",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "crm_tasks_school_id_schools_id_fk": {
          "name": "crm_tasks_school_id_schools_id_fk",
          "tableFrom": "crm_tasks",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "crm_tasks_user_id_users_id_fk": {
          "name": "crm_tasks_user_id_users_id_fk",
          "tableFrom": "crm_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_base_articles": {
      "name": "knowledge_base_articles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "views": {
          "name": "views",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "helpful_count": {
          "name": "helpful_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "not_helpful_count": {
          "name": "not_helpful_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "author_id": {
          "name": "author_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_kb_articles_category": {
          "name": "idx_kb_articles_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kb_articles_published": {
          "name": "idx_kb_articles_published",
          "columns": [
            {
              "expression": "is_published",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kb_articles_views": {
          "name": "idx_kb_articles_views",
          "columns": [
            {
              "expression": "views",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kb_articles_featured": {
          "name": "idx_kb_articles_featured",
          "columns": [
            {
              "expression": "is_featured",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_base_articles_author_id_users_id_fk": {
          "name": "knowledge_base_articles_author_id_users_id_fk",
          "tableFrom": "knowledge_base_articles",
          "tableTo": "users",
          "columnsFrom": [
            "author_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.support_tickets": {
      "name": "support_tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "assignee_id": {
          "name": "assignee_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "satisfaction_rating": {
          "name": "satisfaction_rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_support_tickets_school": {
          "name": "idx_support_tickets_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_tickets_status": {
          "name": "idx_support_tickets_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_tickets_priority": {
          "name": "idx_support_tickets_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_tickets_assignee": {
          "name": "idx_support_tickets_assignee",
          "columns": [
            {
              "expression": "assignee_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_tickets_created": {
          "name": "idx_support_tickets_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_tickets_school_status": {
          "name": "idx_support_tickets_school_status",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "support_tickets_school_id_schools_id_fk": {
          "name": "support_tickets_school_id_schools_id_fk",
          "tableFrom": "support_tickets",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "support_tickets_user_id_users_id_fk": {
          "name": "support_tickets_user_id_users_id_fk",
          "tableFrom": "support_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "support_tickets_assignee_id_users_id_fk": {
          "name": "support_tickets_assignee_id_users_id_fk",
          "tableFrom": "support_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "assignee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_comments": {
      "name": "ticket_comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ticket_comments_ticket": {
          "name": "idx_ticket_comments_ticket",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticket_comments_user": {
          "name": "idx_ticket_comments_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticket_comments_created": {
          "name": "idx_ticket_comments_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_comments_ticket_id_support_tickets_id_fk": {
          "name": "ticket_comments_ticket_id_support_tickets_id_fk",
          "tableFrom": "ticket_comments",
          "tableTo": "support_tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ticket_comments_user_id_users_id_fk": {
          "name": "ticket_comments_user_id_users_id_fk",
          "tableFrom": "ticket_comments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
